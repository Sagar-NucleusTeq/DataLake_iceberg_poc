version: 2

sources:
  - name: mde
    description: "{{ doc('fast') }}"
    schema: landing_mde
    tables:
      - name: promotion_history
        tests:
          - dbt_expectations.expect_table_columns_to_contain_set:
              column_list: [ indiv_key,
                             address_key,
                             email_addr,
                             broadlog_id,
                             event_date,
                             delivery_cd,
                             depromotion_date,
                             delivery_contact_date,
                             status,
                             status_desc,
                             failure_reason_cd,
                             failure_reason_desc,
                             folder,
                             channel_id,
                             failure_text,
                             campaign_label,
                             campaign_name,
                             program_name,
                             plan_name,
                             delivery_label,
                             delivery_name,
                             touchpoint,
                             campaign_type,
                             seed,
                             segment_code,
                             cell_name,
                             program_id,
                             initiative_id,
                             creative_id,
                             tactic_id,
                             cell_id,
                             variant_id,
                             wave_id,
                             touch_id,
                             lead_src_cd,
                             offer_touch_id,
                             offer_id,
                             plan_cd,
                             product_id,
                             product_name,
                             digital_cmp_code,
                             subject_line,
                             transaction_id,
                             first_name,
                             middle_name,
                             last_name,
                             suffix,
                             addr_1,
                             addr_2,
                             city,
                             state,
                             zip_cd,
                             zip_4,
                             date_of_birth,
                             age,
                             gender,
                             resident_member_num,
                             club_member_customer_id,
                             resident_club_cd,
                             member_join_date,
                             member_loyalty_years,
                             model_member_term_id,
                             model_member_term_mille,
                             model_member_term_version,
                             model_member_term_scoring_date,
                             model_member_mlta_id,
                             model_member_mlta_mille,
                             model_member_mlta_version,
                             model_member_mlta_scoring_date,
                             model_member_giwl_id,
                             model_member_giwl_mille,
                             model_member_giwl_version,
                             model_member_giwl_scoring_date,
                             model_term_broadmrkt_id,
                             model_term_broadmrkt_mille,
                             model_term_broadmrkt_version,
                             model_term_broadmrkt_scoring_date,
                             model_giwl_broadmrkt_id,
                             model_giwl_broadmrkt_mille,
                             model_giwl_broadmrkt_version,
                             model_giwl_broadmrkt_scoring_date,
                             model_member_term_ace_id,
                             model_member_term_ace_mille,
                             model_member_term_ace_version,
                             model_member_term_ace_scoring_date,
                             model_offer_seg_id,
                             model_offer_seg_mille,
                             model_offer_seg_version,
                             model_offer_seg_scoring_date,
                             model_ace_agent_sold_id,
                             model_ace_agent_sold_mille,
                             model_ace_agent_sold_version,
                             model_ace_agent_sold_scoring_date,
                             indiv_summary_create_date,
                             keycode,
                             qcode,
                             cell_segment,
                             finder_num,
                             serial_id,
                             offer_end_date,
                             vendor_cd,
                             application_form_num,
                             barcode_version,
                             form_description,
                             creative_notes,
                             personalization,
                             row_check_value,
                             adobe_addr,
                             delivery_id,
                             recipient_id,
                             failure_type,
                             campaign_id,
                             package_id,
                             milliman_bucket_score,
                             hh_milliman_bucket_score,
                             create_date,
                             file_id,
                             record_id,
                             rpt_mail_date,
                             model_member_term_score,
                             model_member_mlta_score,
                             model_member_giwl_score,
                             model_term_broadmarket_score,
                             model_giwl_broadmarket_score,
                             model_member_term_ace_score,
                             model_offer_seg_score,
                             model_ace_agent_sold_score,
                             lexus_nexus_score,
                             create_process_log_id,
                             update_process_log_id,
                             orgnl_source,
                             mail_date,
                             us_carrier_route,
                             club_code,
                             update_date,
                             file_name,
                             load_timestamp
                            ]
        meta:
            automated: "Yes"
            refreshed: "5:30 AM EST Daily"
            